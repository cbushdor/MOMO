<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.dil.univ-mrs.fr/~chris/Perl/Scalaires.htm -->
<HTML><HEAD><TITLE>Cours Perl, Les scalaires.</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="Cours Perl, Les scalaires_fichiers/Messtyles.css" type=text/css 
rel=stylesheet>
<META content="MSHTML 6.00.2900.3243" name=GENERATOR></HEAD>
<BODY>
<H1>Scalaires.</H1>
<H2>Identification d'un scalaire.</H2>
<H3>Le nom d'un scalaire sera toujours une suite de caractères (chiffres, 
lettres et _). Il est à noter que le langage différencie les majuscules des 
minuscules.<BR>Exemple de nom de scalaire valide : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>$Nom_de_variable
$a
$Valeur_0 
  </PRE></DIV></DIV>
<H3>Il est important de bien noter que toute variable utilisée dans la partie 
droite d'une affectation sans s'être vue préalablement affecter de valeur, est 
considérée comme possédant la valeur spécifique "undef".<BR>Dans un calcul 
numérique, cette valeur est considérée comme étant égale à zéro (0).<BR>Dans un 
travail sur les chaines, cette valeur est considérée comme étant égale à une 
chaîne vide ("") ou ('').<BR>Si elle fait partie d'une expression booléenne, 
cette valeur sera considérée comme ayant la valeur faux. </H3>
<H2>Opérations sur les scalaires.</H2>
<TABLE>
  <TBODY>
  <TR>
    <TD>Affecter la valeur 32 à la variable a. </TD>
    <TD>$a = 32; </TD></TR>
  <TR>
    <TD>Affecter à b la valeur de a augmentée de 6. </TD>
    <TD>$b = $a + 6; </TD></TR>
  <TR>
    <TD>Affecter à une variable sa propre valeur multipliée par 2. </TD>
    <TD>$b = $b * 2 </TD></TR>
  <TR>
    <TD>Affecter à a la valeur 52 puis ajouter cette valeur à 10 et affecter 
      le résultat à c. </TD>
    <TD>$c = 10 + ($a = 52); </TD></TR>
  <TR>
    <TD>Affecter à c la valeur 23 et affecter cette meme valeur à d. </TD>
    <TD>$d = ($c = 23); </TD></TR>
  <TR>
    <TD>La meme opération marche aussi sans les parenthèses car l'affectation 
      a une association à droite. </TD>
    <TD>$d = $c = 23; </TD></TR>
  <TR>
    <TD>Affecter à la variable pi la valeur 3.14159 </TD>
    <TD>$pi = 3.14159; </TD></TR>
  <TR>
    <TD>Affecter à ch la chaîne de caractères "Bonjour." </TD>
    <TD>$ch = "Bonjour."; </TD></TR></TBODY></TABLE>
<H2>Représentation des nombres.</H2>
<H3>En Perl, tous les nombres sont représentés en valeur flotante double 
précision. La notion d'entier n'existe pas, un entier est lui aussi représenté 
en flotant double précision. Il est possible de spécifier la base de numération 
dans laquelle on souhaite déclarer une valeur.<BR>Un nombre de la forme Oooo 
représente une valeur octale.<BR>Un nombre de la forme 0xhhh ou 0Xhhh représente 
une valeur hexadécimale.<BR>Toute autre représentation représente un nombre 
décimal. </H3>
<H2>Représentation des chaînes.</H2>
<H3>Il existe en Perl (comme en Unix) deux types de chaines de caractères 
différenciées par le type de guillemets qui les encadre.<BR>Une chaîne encadrée 
par des " (doubles guillemets) possède la particularité de valider le mecanisme 
de substitution pour tous les objets qu'elle contient.<BR>Considérons les 
instructions suivantes : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>$a = "Bonjour";
$b = "$a tout le monde.";
  </PRE></DIV></DIV>
<H3>La variable $b se voit affecter le contenu d'une chaîne de caractères qui 
contient une référence vers une autre variable $a.<BR>La chaîne étant encadrée 
par des doubles guillemets, le mécanisme de substitution est activé et la 
référence à la variable $a sera remplacée pas sa valeur.<BR>En définitive, la 
variable $b va contenir la valeur : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>"Bonjour tout le monde."
  </PRE></DIV></DIV>
<H3>Modifions maintenant les instructions en remplaçant, dans l'affectation de 
la variable $b les doubles guillemets par des simples guillemets : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>a = "Bonjour";
$b = '$a tout le monde.';
  </PRE></DIV></DIV>
<H3>La variable $b se voit à nouveau affecter le contenu d'une chaîne de 
caractères qui contient une référence vers une autre variable $a.<BR>Mais, étant 
encadrée par des simples guillemets, le mécanisme de substitution a été 
désactivé et la suite de caractères $a ne représente plus une référence à une 
variable mais simplement les deux caractères $ et a.<BR>En définitive, la 
variable $b va contenir la valeur : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>"$a tout le monde."
  </PRE></DIV></DIV>
<H2>Les opérateurs arithmétiques.</H2>
<TABLE>
  <TBODY>
  <TR>
    <TD>+</TD>
    <TD>2 + 3</TD>
    <TD>Addition, résultat 5</TD></TR>
  <TR>
    <TD>-</TD>
    <TD>5.8 - 3.3</TD>
    <TD>Soustraction, résultat 2.5</TD></TR>
  <TR>
    <TD>*</TD>
    <TD>4 * 11</TD>
    <TD>Multiplication, résultat 44</TD></TR>
  <TR>
    <TD>/</TD>
    <TD>65 / 5</TD>
    <TD>Division, résultat 13</TD></TR>
  <TR>
    <TD>/</TD>
    <TD>10.5 / 0.5</TD>
    <TD>Division, résultat 21</TD></TR>
  <TR>
    <TD>/</TD>
    <TD>10 / 6</TD>
    <TD>Division, résultat 1.6666666</TD></TR>
  <TR>
    <TD>**</TD>
    <TD>2 ** 4</TD>
    <TD>Exponentiation, résultat 16</TD></TR>
  <TR>
    <TD>%</TD>
    <TD>10 % 4</TD>
    <TD>Modulo, résultat 2</TD></TR></TBODY></TABLE>
<H2>Quelques fonctions arithmétiques.</H2>
<TABLE>
  <TBODY>
  <TR>
    <TD>$racine_carree_de_x = sqrt ($x);</TD></TR>
  <TR>
    <TD>$logarithme_neperien_de_x = log ($x);</TD></TR>
  <TR>
    <TD>$exponentielle_de_x = exp ($x);&gt;</TD></TR>
  <TR>
    <TD>$valeur_absolue_de_x = abs ($x);</TD></TR>
  <TR>
    <TD>$aleatoire = rand ($valeur);</TD></TR>
  <TR>
    <TD>$nombre_decimal = hex ($nombre_hexadecimal);</TD></TR>
  <TR>
    <TD>$nombre_entier = int ($nombre_flotant);</TD></TR>
  <TR>
    <TD>$nombre_decimal = hex ($nombre_octal);</TD></TR>
  <TR>
    <TD>$valeur_ascii = ord ($caractere);</TD></TR>
  <TR>
    <TD>$caractete = chr ($valeur_ascii)</TD></TR></TBODY></TABLE>
<H2>Les opérateurs de comparaison arithmétique</H2>
<TABLE>
  <TBODY>
  <TR>
    <TD>Inférieur</TD>
    <TD>&lt;</TD></TR>
  <TR>
    <TD>Inférieur ou égal</TD>
    <TD>&lt;=</TD></TR>
  <TR>
    <TD>Ega</TD>
    <TD>=</TD></TR>
  <TR>
    <TD>Supérieur ou égal</TD>
    <TD>&gt;=</TD></TR>
  <TR>
    <TD>Supérieur</TD>
    <TD>&gt;</TD></TR>
  <TR>
    <TD>Non égal</TD>
    <TD>!=</TD></TR></TBODY></TABLE>
<H2>Opérateurs d'assignement.</H2>
<H3>Les opérateurs d'assignement vont permettre la modification d'une variable 
par une constante. </H3>
<TABLE>
  <TBODY>
  <TR>
    <TH>Sans l'opérateur d'assignement.</TH>
    <TH>Avec l'opérateur d'assignement.</TH></TR>
  <TR>
    <TD>$a = $a + 5;</TD>
    <TD>$a += 5;</TD></TR>
  <TR>
    <TD>$a = $a - 5;</TD>
    <TD>$a -= 5;</TD></TR>
  <TR>
    <TD>$a = $a * 5;</TD>
    <TD>$a *= 5;</TD></TR>
  <TR>
    <TD>$a = $a ** 3;</TD>
    <TD>$a **= 3;</TD></TR>
  <TR>
    <TD>$a = $a / 5;</TD>
    <TD>$a /= 5;</TD></TR></TBODY></TABLE>
<H3>De la même manière, il est possible d'écrire : </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>$a = 5;
$b = ($a += 9);
  </PRE></DIV></DIV>
<H3>Ce qui aura pour effet d'affecter simultanémént à $a et à $b la valeur 14. 
</H3>
<H2>Auto-incrément, auto-décrément.</H2>
<H3>Ce sont les opérations notées par ++ ou --.<BR>Elles permettent de lier une 
opération d'incrément ou de décrément à l'accés à la variable 
considérée.<BR>Dans une première approximation. </H3>
<TABLE>
  <TBODY>
  <TR>
    <TH>Opérations à effectuer</TH>
    <TH>opérateurs d'assignement</TH>
    <TH>Pré auto + / -</TH>
    <TH>Post auto + / -</TH></TR>
  <TR>
    <TD>$a = $a + 1;</TD>
    <TD>$a += 1;</TD>
    <TD>++$a;</TD>
    <TD>$a++;</TD></TR>
  <TR>
    <TD>$a = $a - 1;</TD>
    <TD>$a -= 1;</TD>
    <TD>--$a</TD>
    <TD>$a- -;</TD></TR></TBODY></TABLE>
<H3>Dans le cas d'une opération préfixée (préincrémentation), l'opérateur 
apparaît à gauche de la variable à laquelle il est affecté.<BR>Dans le cas d'une 
opération postfixée (postincrémentation), l'opérateur apparaît à droite de la 
variable à laquelle il est affecté. </H3>
<H3>Cas d'une préincrémentation </H3>
<TABLE>
  <TBODY>
  <TR>
    <TH>Ecrire</TH>
    <TH>Revient à effectuer</TH></TR>
  <TR>
    <TD>$c = 10;<BR>$d = ++$c; </TD>
    <TD>$c +=1;<BR>$d = $c; </TD></TR></TBODY></TABLE>
<H3>Le résultat de l'affectation est la valeur de la variable aprés que 
l'opération d'incrémentation ait été effectuée. Les variables $c et $d ont 
toutes les deux la valeur 11. </H3>
<H2>Cas d'une postincrémentation</H2>
<TABLE>
  <TBODY>
  <TR>
    <TH>Ecrire</TH>
    <TH>Revient à effectuer</TH></TR>
  <TR>
    <TD>$c = 10;<BR>$d = $c++; </TD>
    <TD>$d = $c;<BR>$c +=1; </TD></TR></TBODY></TABLE>
<H3>Le résultat de l'affectation est la valeur de la variable avant que 
l'opération d'incrémentation n'ait été effectuée. La variable $d aura la valeur 
10 et la variable $c aura quand à elle la valeur 11. </H3>
<H3>Le raisonnement est identique dans le cas de la décrémentation. </H3>
<H3>Les opérandes sont impérativement des variables scalaires.<BR>il est 
interdit d'écrire ++2 pour tenter d'obtenir 3.<BR>Il est inferdit d'écrire 
++($a+$b) pour espérer calculer la somme de $a et $b augmentée de 1. </H3>
<H2>Les conversions numérique - chaîne de caractères.</H2>
<H3>Il est parfaitement possible de mélanger dans une expression arithmétique 
des valeurs numériques et des chaînes de caractères. L'interpréteur fera 
toujours la conversion, pour autant que celle ci sot possible. </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>$chaine = "128";
$nombre = 211;
$somme = $chaine * $nombre;
  </PRE></DIV></DIV>
<H3>Est parfaitement licite, et le résultat numérique 27008 sera bien affecté à 
la variable $somme. </H3>
<H2>Les fonctions defined et undef.</H2>
<H3>Nous avons indiqué qu'une variable peût être utiliseé sans avoir au 
préalable été affectée. </H3>
<DIV class=centre style="WIDTH: 15em">
<DIV class=prog><PRE>$a = $b;
  </PRE></DIV></DIV>
<H3>Ne génèrera aucune erreur, même si la variable $b apparaît pour la première 
fois dans le cours du programme.<BR>Dans ces conditions, la variable $a aura la 
valeur 'undef' et existera car elle sera apparue à gauche d'un signe 
d'affection, par contre la variable $b n'étant jamais apparue à la gauche d'un 
signe d'affectation n'existera pas.<BR>Afin de tester l'existence (ou la non 
existence) d'une variable, l'interpréteur met à la disposition du programmeur 
deux fonctions : </H3>
<TABLE>
  <TBODY>
  <TR>
    <TH>Fonction</TH>
    <TH>La variable $a existe.</TH>
    <TH>La variable $a n'existe pas.</TH></TR>
  <TR>
    <TD>$ret=defined($a);</TD>
    <TD>$ret est vrai.</TD>
    <TD>$ret est faux</TD></TR>
  <TR>
    <TD>$ret=undef($a);</TD>
    <TD>$ret est faux</TD>
    <TD>$ret est vrai</TD></TR></TBODY></TABLE>
<H2>L'opérateur &lt;=&gt; (spaceship).</H2>
<H3>C'est un opérateur spécifique qui va permettre d'établir une relation 
d'ordre entre deux valeurs numériques.<BR>Cet opérateur qui sera utilisé de 
manière intensive lors des opérations de tri sera ultérieurement détaillé. Il 
donne les résultats suivants. </H3>
<TABLE>
  <TBODY>
  <TR>
    <TH>Relation entre $a et $b.</TH>
    <TH>Opération.</TH>
    <TH>Valeur de $x</TH></TR>
  <TR>
    <TD>$a &gt; $b</TD>
    <TD>$x = $a &lt;=&gt; $b;</TD>
    <TD>+1</TD></TR>
  <TR>
    <TD>$a = $b</TD>
    <TD>$x = $a &lt;=&gt; $b;</TD>
    <TD>0</TD></TR>
  <TR>
    <TD>$a &lt; $b</TD>
    <TD>&gt;$x = $a &lt;=&gt; $b;</TD>
    <TD>-1</TD></TR></TBODY></TABLE>
<H3>Cet opérateur est appelé "spaceship" au vu de l'originalite de son aspect. 
</H3>
<H2 style="POSITION: relative; HEIGHT: 5em">
<DIV class=lieng><A href="http://www.dil.univ-mrs.fr/~chris/Perl/Types.htm"><IMG 
style="VERTICAL-ALIGN: middle" 
src="Cours Perl, Les scalaires_fichiers/prec.gif"> </A>Précédent </DIV>
<DIV class=liend>Suivant <A 
href="http://www.dil.univ-mrs.fr/~chris/Perl/InstBase.htm"><IMG 
style="VERTICAL-ALIGN: middle" 
src="Cours Perl, Les scalaires_fichiers/suiv.gif"> </A></DIV></H2></BODY></HTML>
